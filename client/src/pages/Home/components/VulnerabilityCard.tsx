import { Card, CardContent, Typography, Button, CardActions, Chip } from '@mui/material';
import { useNavigate } from 'react-router-dom';
import React, { useContext } from 'react';
import { VulnerabilityContext } from '../../../App';

export const VulnerabilityCard = ({ vulnerability }) => {
  const navigate = useNavigate();
  const [, setSelectedVulnerability] = useContext(VulnerabilityContext)

  const navigateToIssue = async () => {
    await setSelectedVulnerability(vulnerability)
    navigate('/issue');
  };

  return (
    <Card>
      <CardContent>
        <Typography variant="subtitle1" >{vulnerability.name}</Typography>
        <Typography variant="subtitle2" >{vulnerability.description}</Typography>
        <Chip label={vulnerability.category} />

      </CardContent>
      <CardActions>
        <Button onClick={navigateToIssue} size="small">Expand</Button>
      </CardActions>
    </Card>
  )
};
